<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>additions.Monoid_def</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library additions.Monoid_def</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab375"></a><h2 class="section">The <span class="inlinecode"><span class="id" title="var">Monoid</span></span> type class (with Operational Type Classes)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">M_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="Mult_op" class="idref" href="#Mult_op"><span class="id" title="record">Mult_op</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>) := <a id="mult_op" class="idref" href="#mult_op"><span class="id" title="projection">mult_op</span></a> : <a class="idref" href="additions.Monoid_def.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="additions.Monoid_def.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="additions.Monoid_def.html#A:1"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="additions.Monoid_def.html#mult_op"><span class="id" title="definition">mult_op</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Goal</span> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">∀</span></a> <a id="A:4" class="idref" href="#A:4"><span class="id" title="binder">A</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">(</span></a><a id="op:5" class="idref" href="#op:5"><span class="id" title="binder">op</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">:</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">Mult_op</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">A</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">),</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">@</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">mult_op</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">A</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">op</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">=</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">op</span></a>.<br/>

<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">M_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="e1cb395850f224a43e9550833db388b3" class="idref" href="#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">&quot;</span></a>×" := <a class="idref" href="additions.Monoid_def.html#mult_op"><span class="id" title="definition">mult_op</span></a> : <span class="id" title="var">M_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">M_scope</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Demo" class="idref" href="#Demo"><span class="id" title="module">Demo</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="Demo.nat_mult_op" class="idref" href="#Demo.nat_mult_op"><span class="id" title="instance">nat_mult_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Nat.html#mul"><span class="id" title="definition">Nat.mul</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Set Printing All</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> 3 <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> 4.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Unset Printing All</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="additions.Monoid_def.html#Demo"><span class="id" title="module">Demo</span></a>.<br/>

<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="string_op" class="idref" href="#string_op"><span class="id" title="instance">string_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Strings.String.html#append"><span class="id" title="definition">append</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex_string" class="idref" href="#ex_string"><span class="id" title="definition">ex_string</span></a> : "ab" <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> "cde" <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> "abcde".<br/>
 
<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="bool_and_binop" class="idref" href="#bool_and_binop"><span class="id" title="instance">bool_and_binop</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="ex_bool" class="idref" href="#ex_bool"><span class="id" title="definition">ex_bool</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
within M_scope, a term of the form (x * y) is an abbreviation of
(mult_op A op x y) where op : Mult_op A and x, y : A.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="Monoid" class="idref" href="#Monoid"><span class="id" title="record">Monoid</span></a> {<a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>}(<a id="op:7" class="idref" href="#op:7"><span class="id" title="binder">op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:6"><span class="id" title="variable">A</span></a>)(<a id="one:8" class="idref" href="#one:8"><span class="id" title="binder">one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:6"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="op_assoc" class="idref" href="#op_assoc"><span class="id" title="projection">op_assoc</span></a> : <span class="id" title="keyword">∀</span> <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a> <a id="y:11" class="idref" href="#y:11"><span class="id" title="binder">y</span></a> <a id="z:12" class="idref" href="#z:12"><span class="id" title="binder">z</span></a>, <a class="idref" href="additions.Monoid_def.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">(</span></a><a class="idref" href="additions.Monoid_def.html#y:11"><span class="id" title="variable">y</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#z:12"><span class="id" title="variable">z</span></a><a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="additions.Monoid_def.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#y:11"><span class="id" title="variable">y</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#z:12"><span class="id" title="variable">z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="one_left" class="idref" href="#one_left"><span class="id" title="projection">one_left</span></a> : <span class="id" title="keyword">∀</span> <a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a>, <a class="idref" href="additions.Monoid_def.html#one:8"><span class="id" title="variable">one</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="additions.Monoid_def.html#x:14"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="one_right" class="idref" href="#one_right"><span class="id" title="projection">one_right</span></a> : <span class="id" title="keyword">∀</span> <a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a>, <a class="idref" href="additions.Monoid_def.html#x:16"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#one:8"><span class="id" title="variable">one</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="additions.Monoid_def.html#x:16"><span class="id" title="variable">x</span></a><br/>
}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab376"></a><h3 class="section">Exercice</h3>


<div class="paragraph"> </div>

Define a class for semi-groups, and re-define monoids as semi-groups with a neutral element

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a id="lab377"></a><h3 class="section">Monoids and Equivalence Relations</h3>


<div class="paragraph"> </div>

In some situations, the previous definition may be too restrictive.
For instance, consider the computation of   where
 and  are positive integers, and .

<div class="paragraph"> </div>

Although it could possible to compute with values of the dependent 
type  <span class="inlinecode">{<span class="id" title="var">n</span>:<span class="id" title="var">N</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">m</span>}</span>, it looks simpler to compute with numbers of type
<span class="inlinecode"><span class="id" title="var">N</span></span>, and consider the multiplication .

<div class="paragraph"> </div>

It is easy to prove that this operation is associative, using library
 . Unfortunately, it is not possible to prove the 
following proposition,
required for building an instance of <span class="inlinecode"><span class="id" title="var">Monoid</span></span>:

<div class="paragraph"> </div>

<br/>
<span class="inlinecode"><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>:<span class="id" title="var">N</span>, 1 × <span class="id" title="var">x</span>  <span class="id" title="var">mod</span> <span class="id" title="var">m</span> = <span class="id" title="var">x</span>.
<div class="paragraph"> </div>

</span>
<div class="paragraph"> </div>

Thus, we define a more general class, parameterized by an equivalence
relation <span class="inlinecode"><span class="id" title="var">Aeq</span></span> on type <span class="inlinecode"><span class="id" title="var">A</span></span>, compatible with the multiplication . 
The laws of associativity and neutral element
are not expressed as Leibniz equalities but as equivalence statements:

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="Equiv" class="idref" href="#Equiv"><span class="id" title="record">Equiv</span></a> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> := <a id="equiv" class="idref" href="#equiv"><span class="id" title="projection">equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="additions.Monoid_def.html#A:18"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="2596316c6f2ff161cb03e25fd8914390" class="idref" href="#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">&quot;</span></a>==" := <a class="idref" href="additions.Monoid_def.html#equiv"><span class="id" title="definition">equiv</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">type_scope</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="EMonoid" class="idref" href="#EMonoid"><span class="id" title="record">EMonoid</span></a> (<a id="A:21" class="idref" href="#A:21"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="E_op:22" class="idref" href="#E_op:22"><span class="id" title="binder">E_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:21"><span class="id" title="variable">A</span></a>)(<a id="E_one:23" class="idref" href="#E_one:23"><span class="id" title="binder">E_one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:21"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E_eq:24" class="idref" href="#E_eq:24"><span class="id" title="binder">E_eq</span></a>: <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:21"><span class="id" title="variable">A</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Eq_equiv" class="idref" href="#Eq_equiv"><span class="id" title="projection">Eq_equiv</span></a> :&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="additions.Monoid_def.html#equiv"><span class="id" title="definition">equiv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Eop_proper" class="idref" href="#Eop_proper"><span class="id" title="projection">Eop_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="additions.Monoid_def.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="additions.Monoid_def.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="additions.Monoid_def.html#equiv"><span class="id" title="definition">equiv</span></a>) <a class="idref" href="additions.Monoid_def.html#E_op:22"><span class="id" title="variable">E_op</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Eop_assoc" class="idref" href="#Eop_assoc"><span class="id" title="projection">Eop_assoc</span></a> : <span class="id" title="keyword">∀</span> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> <a id="y:29" class="idref" href="#y:29"><span class="id" title="binder">y</span></a> <a id="z:30" class="idref" href="#z:30"><span class="id" title="binder">z</span></a>, <a class="idref" href="additions.Monoid_def.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">(</span></a><a class="idref" href="additions.Monoid_def.html#y:29"><span class="id" title="variable">y</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#z:30"><span class="id" title="variable">z</span></a><a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">)</span></a> <a class="idref" href="additions.Monoid_def.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="additions.Monoid_def.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#y:29"><span class="id" title="variable">y</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#z:30"><span class="id" title="variable">z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Eone_left" class="idref" href="#Eone_left"><span class="id" title="projection">Eone_left</span></a> : <span class="id" title="keyword">∀</span> <a id="x:32" class="idref" href="#x:32"><span class="id" title="binder">x</span></a>,  <a class="idref" href="additions.Monoid_def.html#E_one:23"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="additions.Monoid_def.html#x:32"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Eone_right" class="idref" href="#Eone_right"><span class="id" title="projection">Eone_right</span></a> : <span class="id" title="keyword">∀</span> <a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a>,  <a class="idref" href="additions.Monoid_def.html#x:34"><span class="id" title="variable">x</span></a> <a class="idref" href="additions.Monoid_def.html#e1cb395850f224a43e9550833db388b3"><span class="id" title="notation">×</span></a> <a class="idref" href="additions.Monoid_def.html#E_one:23"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a>  <a class="idref" href="additions.Monoid_def.html#x:34"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="Equiv_Equiv" class="idref" href="#Equiv_Equiv"><span class="id" title="instance">Equiv_Equiv</span></a> (<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="E_op:37" class="idref" href="#E_op:37"><span class="id" title="binder">E_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:36"><span class="id" title="variable">A</span></a>)(<a id="E_one:38" class="idref" href="#E_one:38"><span class="id" title="binder">E_one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:36"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E_eq:39" class="idref" href="#E_eq:39"><span class="id" title="binder">E_eq</span></a>: <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:36"><span class="id" title="variable">A</span></a>)(<a id="M:40" class="idref" href="#M:40"><span class="id" title="binder">M</span></a> :<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a> <a class="idref" href="additions.Monoid_def.html#E_op:37"><span class="id" title="variable">E_op</span></a> <a class="idref" href="additions.Monoid_def.html#E_one:38"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:39"><span class="id" title="variable">E_eq</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:39"><span class="id" title="variable">E_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="Equiv_Refl" class="idref" href="#Equiv_Refl"><span class="id" title="instance">Equiv_Refl</span></a> (<a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="E_op:42" class="idref" href="#E_op:42"><span class="id" title="binder">E_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:41"><span class="id" title="variable">A</span></a>)(<a id="E_one:43" class="idref" href="#E_one:43"><span class="id" title="binder">E_one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:41"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E_eq:44" class="idref" href="#E_eq:44"><span class="id" title="binder">E_eq</span></a>: <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:41"><span class="id" title="variable">A</span></a>)(<a id="M:45" class="idref" href="#M:45"><span class="id" title="binder">M</span></a> :<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a> <a class="idref" href="additions.Monoid_def.html#E_op:42"><span class="id" title="variable">E_op</span></a> <a class="idref" href="additions.Monoid_def.html#E_one:43"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:44"><span class="id" title="variable">E_eq</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:44"><span class="id" title="variable">E_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="Equiv_Sym" class="idref" href="#Equiv_Sym"><span class="id" title="instance">Equiv_Sym</span></a> (<a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="E_op:47" class="idref" href="#E_op:47"><span class="id" title="binder">E_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:46"><span class="id" title="variable">A</span></a>)(<a id="E_one:48" class="idref" href="#E_one:48"><span class="id" title="binder">E_one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:46"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E_eq:49" class="idref" href="#E_eq:49"><span class="id" title="binder">E_eq</span></a>: <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:46"><span class="id" title="variable">A</span></a>)(<a id="M:50" class="idref" href="#M:50"><span class="id" title="binder">M</span></a> :<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a> <a class="idref" href="additions.Monoid_def.html#E_op:47"><span class="id" title="variable">E_op</span></a> <a class="idref" href="additions.Monoid_def.html#E_one:48"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:49"><span class="id" title="variable">E_eq</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:49"><span class="id" title="variable">E_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[ <span class="id" title="var">global</span> ] <span class="id" title="keyword">Instance</span> <a id="Equiv_Trans" class="idref" href="#Equiv_Trans"><span class="id" title="instance">Equiv_Trans</span></a> (<a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="E_op:52" class="idref" href="#E_op:52"><span class="id" title="binder">E_op</span></a> : <a class="idref" href="additions.Monoid_def.html#Mult_op"><span class="id" title="class">Mult_op</span></a> <a class="idref" href="additions.Monoid_def.html#A:51"><span class="id" title="variable">A</span></a>)(<a id="E_one:53" class="idref" href="#E_one:53"><span class="id" title="binder">E_one</span></a> : <a class="idref" href="additions.Monoid_def.html#A:51"><span class="id" title="variable">A</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E_eq:54" class="idref" href="#E_eq:54"><span class="id" title="binder">E_eq</span></a>: <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:51"><span class="id" title="variable">A</span></a>)(<a id="M:55" class="idref" href="#M:55"><span class="id" title="binder">M</span></a> :<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a> <a class="idref" href="additions.Monoid_def.html#E_op:52"><span class="id" title="variable">E_op</span></a> <a class="idref" href="additions.Monoid_def.html#E_one:53"><span class="id" title="variable">E_one</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:54"><span class="id" title="variable">E_eq</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="additions.Monoid_def.html#E_eq:54"><span class="id" title="variable">E_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable All Variables</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab378"></a><h3 class="section">Coercion from Monoid to EMonoid</h3>


<div class="paragraph"> </div>

Every instance of class  <span class="inlinecode"><span class="id" title="var">Monoid</span></span> can be transformed into an instance of
<span class="inlinecode"><span class="id" title="var">EMonoid</span></span>, considering Leibniz' equality <span class="inlinecode"><span class="id" title="var">eq</span></span>.

</div>
<div class="code">

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="eq_equiv" class="idref" href="#eq_equiv"><span class="id" title="instance">eq_equiv</span></a> {<a id="A:56" class="idref" href="#A:56"><span class="id" title="binder">A</span></a>} : <a class="idref" href="additions.Monoid_def.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="additions.Monoid_def.html#A:56"><span class="id" title="variable">A</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Monoid_EMonoid" class="idref" href="#Monoid_EMonoid"><span class="id" title="instance">Monoid_EMonoid</span></a> `(<a id="M:60" class="idref" href="#M:60"><span class="id" title="binder">M</span></a>:@<a class="idref" href="additions.Monoid_def.html#Monoid"><span class="id" title="class">Monoid</span></a> <a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a> <a id="op:58" class="idref" href="#op:58"><span class="id" title="binder">op</span></a> <a id="one:59" class="idref" href="#one:59"><span class="id" title="binder">one</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a>  <a class="idref" href="additions.Monoid_def.html#op:58"><span class="id" title="variable">op</span></a> <a class="idref" href="additions.Monoid_def.html#one:59"><span class="id" title="variable">one</span></a> <a class="idref" href="additions.Monoid_def.html#eq_equiv"><span class="id" title="instance">eq_equiv</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can now register <span class="inlinecode"><span class="id" title="var">Monoid_EMonoid</span></span> as a <i>coercion</i>:

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="additions.Monoid_def.html#Monoid_EMonoid"><span class="id" title="instance">Monoid_EMonoid</span></a> <a class="idref" href="additions.Monoid_def.html#Monoid_EMonoid"><span class="id" title="instance">:</span></a> <a class="idref" href="additions.Monoid_def.html#Monoid_EMonoid"><span class="id" title="instance">Monoid</span></a> <a class="idref" href="additions.Monoid_def.html#Monoid_EMonoid"><span class="id" title="instance">&gt;-&gt;</span></a> <a class="idref" href="additions.Monoid_def.html#Monoid_EMonoid"><span class="id" title="instance">EMonoid</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab379"></a><h3 class="section">Commutative Monoids</h3>


<div class="paragraph"> </div>

The following type class definitions allow to take advantage of
  the possible commutativity of the  operation 

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="Abelian_EMonoid" class="idref" href="#Abelian_EMonoid"><span class="id" title="record">Abelian_EMonoid</span></a> `(<a id="M:65" class="idref" href="#M:65"><span class="id" title="binder">M</span></a>:@<a class="idref" href="additions.Monoid_def.html#EMonoid"><span class="id" title="class">EMonoid</span></a> <a id="A:61" class="idref" href="#A:61"><span class="id" title="binder">A</span></a> <a id="op:62" class="idref" href="#op:62"><span class="id" title="binder">op</span></a> <a id="one:63" class="idref" href="#one:63"><span class="id" title="binder">one</span></a> <a id="Aeq:64" class="idref" href="#Aeq:64"><span class="id" title="binder">Aeq</span></a> ):= {<br/>
&nbsp;&nbsp;<a id="Eop_comm" class="idref" href="#Eop_comm"><span class="id" title="projection">Eop_comm</span></a> : <span class="id" title="keyword">∀</span> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> <a id="y:68" class="idref" href="#y:68"><span class="id" title="binder">y</span></a>, <a class="idref" href="additions.Monoid_def.html#op:62"><span class="id" title="variable">op</span></a> <a class="idref" href="additions.Monoid_def.html#x:67"><span class="id" title="variable">x</span></a>  <a class="idref" href="additions.Monoid_def.html#y:68"><span class="id" title="variable">y</span></a> <a class="idref" href="additions.Monoid_def.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a>  <a class="idref" href="additions.Monoid_def.html#op:62"><span class="id" title="variable">op</span></a> <a class="idref" href="additions.Monoid_def.html#y:68"><span class="id" title="variable">y</span></a>  <a class="idref" href="additions.Monoid_def.html#x:67"><span class="id" title="variable">x</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="Abelian_Monoid" class="idref" href="#Abelian_Monoid"><span class="id" title="record">Abelian_Monoid</span></a> `(<a id="M:73" class="idref" href="#M:73"><span class="id" title="binder">M</span></a>:<a class="idref" href="additions.Monoid_def.html#Monoid"><span class="id" title="class">Monoid</span></a> ):= {<br/>
&nbsp;&nbsp;<a id="op_comm" class="idref" href="#op_comm"><span class="id" title="projection">op_comm</span></a> : <span class="id" title="keyword">∀</span> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="y:76" class="idref" href="#y:76"><span class="id" title="binder">y</span></a>, <a class="idref" href="additions.Monoid_def.html#op:71"><span class="id" title="variable">op</span></a> <a class="idref" href="additions.Monoid_def.html#x:75"><span class="id" title="variable">x</span></a>  <a class="idref" href="additions.Monoid_def.html#y:76"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="additions.Monoid_def.html#op:71"><span class="id" title="variable">op</span></a> <a class="idref" href="additions.Monoid_def.html#y:76"><span class="id" title="variable">y</span></a>  <a class="idref" href="additions.Monoid_def.html#x:75"><span class="id" title="variable">x</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">add_op_proper</span> <span class="id" title="var">M</span> <span class="id" title="var">H</span> := <br/>
&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="additions.Monoid_def.html#Eop_proper"><span class="id" title="method">Eop_proper</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">M</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>